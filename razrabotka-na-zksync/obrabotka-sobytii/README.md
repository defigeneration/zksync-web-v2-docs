# Обработка событий

### Обзор <a href="#overview" id="overview"></a>

События (events) - механизмы для публикации информации слушателям вне блокчейна, учитывая что сами смарт-контракты не могут читать их.

Блокчейны были созданы публичными, что делает всю информацию доступной публике, и любые действия могут быть обнаружены аккуратно всматриваясь в транзакцию. События - легкий путь сделать конкретную информацию легкодоступной для внешних систем; они помогают dAppам(децентрализованым приложениям) следить и отвечать на то, что происходит внутри смарт-контракта. Индексирование облегчает их поиск. Так что, стоит эмитировать событие каждый раз когда внутри контракта происходит что-то, о чем стоит знать системе вне блокчейна, чтоб эта система могла прослушивать такие события. Событие включены в логи транзакций того же блока, что и содержит оригинальную транзакцию

В zkSync, событие ведут себя тем же образом, что и в Ethereum.

### Фильтрация событий <a href="#events-filtering" id="events-filtering"></a>

Фильтрация используется, чтоб запрашивать индексированные данные и предоставлять дешевое хранилище, когда данным не обязательно хранится на блокчейне.

Это может быть использовано в паре с [API событий провайдера](https://docs.ethers.io/v5/api/providers/provider/#Provider--event-methods) и с [API событий контракта](https://docs.ethers.io/v5/api/contract/contract/#Contract--events).

```solidity
    abi = [
  "event Transfer(address indexed src, address indexed dst, uint val)"
];

contract = new Contract(tokenAddress, abi, provider);

// List all token transfers *to* myAddress:
contract.filters.Transfer(null, myAddress)
//{
//    "jsonrpc":"2.0",
//   "id":1,
//    "method":"eth_getLogs",
//    "params":[{
//       "fromBlock": "0x8e8e6",
//        "toBlock": "0x8e8e6",
//        "topics": [["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"]]
//    }]
//}

```

У zkSync лимит на ответ - 10K логов.
