# Системные контракты

Для того чтобы схемы нулевого разглашения (zero-knowledge) были максимально простыми и позволяли легко расширять их, большая часть логики zkSync была перенесена в так называемые "системные контракты" - набор контрактов, которые имеют особые привилегии и служат особым целям, например, развертывание контрактов, обеспечение того, чтобы пользователь платил только один раз за публикацию данных о контрактах и т.п.&#x20;

До тех пор, пока код системных контрактов не пройдет тщательное тестирование, он не будет опубликован. Этот раздел только предоставит вам информацию, необходимую для разработки на zkSync.

### Интерфейсы <a href="#interfaces" id="interfaces"></a>

Адреса и интерфейсы системных контрактов могут быть найдены [тут.](https://github.com/matter-labs/v2-testnet-contracts/blob/main/l2/system-contracts/Constants.sol)

Этот раздел посвящен описанию семантического значения нескольких наиболее популярных системных контрактов.

### ContractDeployer <a href="#contractdeployer" id="contractdeployer"></a>

[Интерфейс](https://github.com/matter-labs/v2-testnet-contracts/blob/6a93ff85d33dfff0008624eb9777d5a07a26c55d/l2/system-contracts/interfaces/IContractDeployer.sol#L5)

Этот контракт используется для развертывания новых смарт-контрактов. Его задача - убедиться, что байт-код для каждого развернутого контракта известен. Этот контракт также определяет адрес получения. Всякий раз, когда контракт разворачивается, он вызывает событие `ContractDeployed`.&#x20;

В будущем мы добавим описание того, как напрямую взаимодействовать с этим контрактом.

### IL1Messenger <a href="#il1messenger" id="il1messenger"></a>

[Интерфейс](https://github.com/matter-labs/v2-testnet-contracts/blob/6a93ff85d33dfff0008624eb9777d5a07a26c55d/l2/system-contracts/interfaces/IL1Messenger.sol#L5)

Этот контракт используется для отправки сообщений с zkSync на Ethereum L1. Для каждого отправленного сообщения вызывается события `L1MessageSent.`

### INonceHolder <a href="#inonceholder" id="inonceholder"></a>

[Интерфейс](https://github.com/matter-labs/v2-testnet-contracts/blob/6a93ff85d33dfff0008624eb9777d5a07a26c55d/l2/system-contracts/interfaces/INonceHolder.sol#L5)

Этот контракт хранит nonce'ы аккаунта. Nonce'ы аккаунта хранятся в одном месте ради эффективности ([nonce транзакции и nonce развертывания](broken-reference) хранятся в одном месте) и для упрощения работы оператора.

### Bootloader <a href="#bootloader" id="bootloader"></a>

Для большей расширяемости и снижения накладных расходов некоторые части протокола (например, правила абстракции аккаунтов) были перемещены в эфемерный контракт, называемый _bootloader_. Мы называем его эфемерным, поскольку формально он никогда не разворачивается и не может быть вызван, но у него есть [формальный адрес](https://github.com/matter-labs/v2-testnet-contracts/blob/6a93ff85d33dfff0008624eb9777d5a07a26c55d/l2/system-contracts/Constants.sol#L19), который используется на `msg.sender`, когда он вызывает другие контракты.

Вам пока нет необходимости знать подробностей о нем, но знание того, что он существует, важно при разработке с использованием функции абстракции аккаунта. Вы в любой момент можете считать, что загрузчик не является вредоносным и является частью протокола. В будущем код загрузчика будет опубликован, и любые изменения в нем также будут означать обновление протокола.

### Защищенный доступ к некоторым системным контрактам <a href="#protected-access-to-some-of-the-system-contracts" id="protected-access-to-some-of-the-system-contracts"></a>

Некоторые системные контракты имеют влияние на аккаунт, чего на Эфириум ожидать не приходится. К примеру, на Эфириум единственный способ для ЕОА увеличить свой nonce - это оправка транзакции. Также, отправка транзакции может увеличить nonce только на единицу за один раз. На zkSync nonce реализованы через системный контракт [NonceHolder](https://v2-docs.zksync.io/dev/developer-guides/contracts/system-contracts.html#inonceholder) и, при нативной реализации, пользователи могут получить доступ к увеличению nonce путем вызова этого контракта. Поэтому вызовы к большинству методов (меняющих состояние сети)  держателя nonce доступны к вызову только со специальным флагом `isSystem`, чтобы взаимодействия с важным системным контрактом могли быть осмысленно управляемы разработчиком аккаунта.

То же самое применимо и к системному контракту [ContractDeployer](https://v2-docs.zksync.io/dev/developer-guides/contracts/system-contracts.html#contractdeployer). Это значит, например, что вам нужно будет открыто разрешить вашим пользователям развертывать контракты, как это делается в[ реализации DefaultAccount](https://github.com/matter-labs/v2-testnet-contracts/blob/main/l2/system-contracts/DefaultAccount.sol#L126)'a (стандартный аккаунт).
